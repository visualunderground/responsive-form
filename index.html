<!DOCTYPE html>
<!--[if lt IE 7 ]> <html class="ie ie6 no-js" dir="ltr" lang="en-GB"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie ie7 no-js" dir="ltr" lang="en-GB"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie ie8 no-js" dir="ltr" lang="en-GB"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie ie9 no-js" dir="ltr" lang="en-GB"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-ie no-js" dir="ltr" lang="en-GB"><!--<![endif]--><head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link media="all" type="text/css" href="http://fonts.googleapis.com/css?family=Raleway:500,300" id="dm_shop_square_fonts-css" rel="stylesheet">
	<link rel="icon" href="/favicon.ico?v=2" type="image/x-icon" >
	<link rel='stylesheet' href='assets/css/app.css'>
	<script src='assets/js/modernizr-dev.js' ></script>
	<title>Responsive form</title>
	<script>
	function styleRadio(oScope){
		var aEl = oScope.getElementsByTagName('input');
		for (var i = 0; i < aEl.length; i++) {
			if ((aEl[i].type == 'radio' || aEl[i].type == 'checkbox') && aEl[i].parentNode.tagName == 'DIV') {
				aEl[i].parentNode.className = (aEl[i].checked) ? 'button is-selected' : 'button not-selected';
			}
		}
	}
	function attachInputEvents(){
		var aEl = document.getElementsByTagName('input');
		for (var i = 0; i < aEl.length; i++) {
			if (aEl[i].type == 'radio' || aEl[i].type == 'checkbox') {
				addEvent(aEl[i], 'click', function(){styleRadio(this.parentNode.parentNode);});
			}
		}
	}
	//	http://www.dustindiaz.com/rock-solid-addevent
	function addEvent( obj, type, fn ) {
		if (obj.addEventListener) {
			obj.addEventListener( type, fn, false );
			EventCache.add(obj, type, fn);
		}
		else if (obj.attachEvent) {
			obj["e"+type+fn] = fn;
			obj[type+fn] = function() { obj["e"+type+fn]( window.event ); }
			obj.attachEvent( "on"+type, obj[type+fn] );
			EventCache.add(obj, type, fn);
		}
		else {
			obj["on"+type] = obj["e"+type+fn];
		}
	}
	
	var EventCache = function(){
		var listEvents = [];
		return {
			listEvents : listEvents,
			add : function(node, sEventName, fHandler){
				listEvents.push(arguments);
			},
			flush : function(){
				var i, item;
				for(i = listEvents.length - 1; i >= 0; i = i - 1){
					item = listEvents[i];
					if(item[0].removeEventListener){
						item[0].removeEventListener(item[1], item[2], item[3]);
					};
					if(item[1].substring(0, 2) != "on"){
						item[1] = "on" + item[1];
					};
					if(item[0].detachEvent){
						item[0].detachEvent(item[1], item[2]);
					};
					item[0][item[1]] = null;
				};
			}
		};
	}();
	addEvent(window,'unload',EventCache.flush);
	//	END http://www.dustindiaz.com/rock-solid-addevent

/*=====================================================================================================	
	HELP FUNCTION
  =====================================================================================================	*/
	function $() {
		var elements = new Array();
		for (var i = 0; i < arguments.length; i++) {
			var element = arguments[i];
			if (typeof element == 'string')
				element = document.getElementById(element);
			if (arguments.length == 1)
				return element;
			elements.push(element);
		}
		return elements;
	}
	var helpID = "";
	function showHelp(sTerm, sType){
		if ($(sTerm + '-content')){	//	IF HELP HAS ALREADY BEEN CALLED - SHOW IT
			if ($(sTerm + '-content').className == "help-bubble"){
				clearhelp();	//	CLEAR OLD HELP ITEM
				return false;
			}else{
				clearhelp();	//	CLEAR OLD HELP ITEM
				helpID = sTerm;
				//	HELP POSITIONING
				if(Modernizr.mq('only screen and (max-width: 789px)')) { // NO COLS
					$(sTerm + '-content').style.top = $(helpID).parentNode.offsetHeight + 5 + "px";
					$(sTerm + '-content').style.left = "0";
				}else{
					$(sTerm + '-content').style.top = "48px";
					$(sTerm + '-content').style.left = "0";
				}  // true
				$(helpID + '-content').className = "help-bubble";
			}
		}else{	//	ELSE - CALL HELP
			clearhelp();	//	CLEAR OLD HELP ITEM
			helpID = sTerm;
			//	CREATE NODE
			var oDiv = document.createElement("div");
			oDiv.className = 'help-bubble';
			oDiv.id = helpID + "-content";
			//	HELP POSITIONING		//if (helpPosition=='relative'){oDiv.style.left = $(helpID).offsetLeft + 40 + "px";}	//	REMOVE TO USE CSS ONLY (STATIC) POSITIONING
			if(Modernizr.mq('only screen and (max-width: 789px)')) { // NO COLS
				oDiv.style.top = $(helpID).parentNode.offsetHeight + 5 + "px";
				oDiv.style.left = "0";
			}else{
				oDiv.style.top = "48px";
				oDiv.style.left = "0";
			}  
			oDiv.innerHTML = "<div class='help-bubble-content'><h5 class='help-bubble-header'>Test</h5><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. link Quisque sed fringilla ipsum.</p><ul><li>One</li><li>Two</li></ul><p>Suspendisse ut sem augue. Suspendisse sed magna a neque pretium aliquet. Sed justo dolor, bibendum vehicula imperdiet nec. </p><a href='javascript:clearhelp();' class='help-bubble-close-button' title='Close'>x</a></div>";
			$(helpID).parentNode.insertBefore(oDiv, $(helpID).nextSibling);
		}
		return false;
	}
	
	function clearhelp(){
		sID = helpID + "-content";
		if (!helpID){return;}
		$(sID).className = "help-bubble is-hidden";
	}
	</script>
</head>
<body onload="styleRadio(document);attachInputEvents();">
	<form action="#" novalidate="true">
	<header class="global-header">
		<h1>Product type</h1>
	</header>
	<div id="quote">
		<h2>Page name</h2>
		<div class="message-master">
			<h3>{.message-master}</h3>
			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. <a href="#">link</a> Quisque sed fringilla ipsum. Suspendisse ut sem augue. Suspendisse sed magna a neque pretium aliquet. Sed justo dolor, bibendum vehicula imperdiet nec. </p>
			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus pharetra pellentesque Justo quis sodales. Suspendisse dolor magna a fringilla augue. Ut feugiat turpis a faselli.</p>
		</div>
		<div class="message-error-up">
			<p>{.message-error-up}<br />There are errors on this page please take a moment to check your answers.</p>
		</div>
		<div class="message-info-down">
			<p>{.message-info-down}<br />Don't forget to do X before Y.</p>
		</div>
		<fieldset class="form-panel">
			<legend class="fieldset-title">Text entry</legend>
			<p>Bacon ipsum dolor sit amet, consectetur adipiscing elit. Phasellus pharetra pellentesque Justo quis sodales. Suspendisse dolor magna a fringilla augue. Ut feugiat turpis a faselli.</p>
			<div class="form-panel-content">
				<ul>
					<li class="form-group">
						<label class="form-label">Input</label>
						<span class="form-answer">
							<input class="form-control" type="text" placeholder="[type='text']" >
						</span>
					</li>
					<li class="form-group has-error">
						<label class="form-label">Input</label>
						<span class="form-answer">
							<input class="form-control" type="tel" placeholder="[type='tel']" >
							<div class="error-message">Oops. there was an error</div>
						</span>
					</li>
					<li class="form-group">
						<label class="form-label">Input</label>
						<span class="form-answer">
							<input class="form-control" type="email" placeholder="[type='email']" >
						</span>
					</li>
					<li class="form-group">
						<label class="form-label">Input</label>
						<span class="form-answer">
							<input class="form-control" type="text" placeholder="[type='text']" >
						</span>
					</li>
					<li class="form-group">
						<label class="form-label">Input &amp; search</label>
						<span class="form-answer">
							<!--	!!!! NO WHITESPACE !!!!	-->
							<input type="text" class="form-control postcode"><button class="button-secondary" title="Search" value="Search">Search</button><a href='#' class='help-link' id='help-6' onclick='return showHelp(this.id);'>?</a><i class="form-hint">Additional information</i>
						</span>
					</li>
					<li class="form-group">
						<label class="form-label">Delimited input</label>
						<span class="form-answer">
							<!--	!!!! NO WHITESPACE !!!!	-->
							<input type="tel" class="form-control sort-code"><b class="form-control-delimiter">/</b><input type="tel" class="form-control sort-code"><b class="form-control-delimiter">/</b><input type="tel" class="form-control sort-code">
							<a href='#' class='help-link' id='help-8' onclick='return showHelp(this.id);'>?</a>
						</span>
					</li>
					<!--	NB apply a class of "search" to add affordance	-->
					<li class="form-group">				
						<label class="form-label" for="Proposer.id.1_FullTimeOccupation.occDesc">Search:Suggest input</label>				
						<span class="form-answer">
							<input type="text" value="" class="form-control search" onBlur="hideFloat();" onKeyDown="preventScroll(event)" onKeyUp="sOccupationG(event,'fullOcc');" autocomplete="off" id="Proposer.id.1_FullTimeOccupation.occDesc" name="Proposer.id.1_FullTimeOccupation.occDesc" ><a href='#' class='help-link' id='help-9' onclick='return showHelp(this.id);'>?</a>
							<i class="form-hint">Additional information</i>
							<div id="Proposer.id.1_FullTimeOccupation.occCodeFLOAT" class="ajax-float"></div>
							<input type="hidden" value="" name="Proposer.id.1_FullTimeOccupation.occCode" id="Proposer.id.1_FullTimeOccupation.occCode">
							<!-- PURELY  FOR PROTOTYPE PURPOSES	-->
							<input type="hidden"  id="Proposer.id.1_FullTimeOccupation.empDesc" name="Proposer.id.1_FullTimeOccupation.empDesc" >
							<div id="Proposer.id.1_FullTimeOccupation.empCodeFLOAT" style="display:none;"></div>
							<div id="Proposer.id.1_PartTimeOccupation.empCodeFLOAT" style="display:none;"></div>
							<div id="Proposer.id.1_PartTimeOccupation.occCodeFLOAT" style="display:none;"></div>
							<input type="hidden" value="" name="Proposer.id.1_FullTimeOccupation.empCode" id="Proposer.id.1_FullTimeOccupation.empCode">
							<!-- END	-->
						</span>
					</li>
					<li class="form-group">
						<label class="form-label">Textual value</label>
						<span class="form-answer">
							<span class="textual-value">Mr A N Proposer</span>
							<a href='#' class='help-link' id='help-2' onclick='return showHelp(this.id);'>?</a>
						</span>
					</li>
				</ul>
			</div>
		</fieldset>
		<fieldset class="form-panel">
			<legend class="fieldset-title">Select menus</legend>
			<div class="form-panel-content">
				<ul>
					<li class="form-group">
						<label class="form-label">Selection (std. width)<i class="form-hint">Matches text input width</i></label>
						<span class="form-answer">
							<select class="form-control"><option selected="" value="">Mobile</option></select><a href='#' class='help-link' id='help-0' onclick='return showHelp(this.id);'>?</a>
						</span>
					</li>
					<li class="form-group">
						<label class="form-label">Selection (matches. width)<i class="form-hint">A <code>select</code> element with a class of <code>min</code> = data width.</i></label>
						<span class="form-answer">
							<select class="form-control min"><option selected="" value="">Mobile</option></select><a href='#' class='help-link' id='help-1' onclick='return showHelp(this.id);'>?</a>
						</span>
					</li>
				</ul>
			</div>
		</fieldset>
		<fieldset class="form-panel">
			<legend class="fieldset-title">Integral units</legend>
			<div class="form-panel-content">
				<ul>
					<li class="message-info">
						<p>
							Use <code>has-prefix</code> and <code>has-suffix</code> classes on the <code>input</code> and <code>unit-prefix</code> and <code>unit-suffix</code> on the element containing the unit.
						</p>
						<p>
							NB. no whitespace between the element and the <code>input</code>
						</p>
					</li>
					<li class="form-group">
						<label class="form-label">Prefixed input <i class="form-hint">Additional information with <a href="#">link</a></i></label>
						<span class="form-answer">
							<!--	!!!! NO WHITESPACE !!!!	-->
							<b class="unit-prefix">&pound;</b><input type="text" class="form-control has-prefix">
							<a href='#' class='help-link' id='help-3' onclick='return showHelp(this.id);'>?</a>
						</span>
					</li>
					<li class="form-group">
						<label class="form-label">Suffixed input</label>
						<span class="form-answer">
							<!--	!!!! NO WHITESPACE !!!!	-->
							<input type="text" class="form-control has-suffix"><b class="unit-suffix">mg</b>
							<a href='#' class='help-link' id='help-4' onclick='return showHelp(this.id);'>?</a>
						</span>
					</li>
				</ul>
			</div>
		</fieldset>
		<fieldset class="form-panel">
			<legend class="fieldset-title">Dates</legend>
			<div class="form-panel-content">
				<ul>
					<li class="form-group">
						<label class="form-label">Date input</label>
						<span class="form-answer">
							<!--	!!!! NO WHITESPACE !!!!	-->
							<select class="form-control min"><option value="">Day</option><option value="01">01</option><option value="02">...</option><option value="31">31</option></select><select class="form-control min"><option value="">Month</option><option value="01">January</option><option value="02">...</option><option value="12">December</option></select><select class="form-control min"><option value="">Year</option><option value="1984">...</option><option value="1976">1976</option></select>
							<a href='#' class='help-link' id='help-5' onclick='return showHelp(this.id);'>?</a>
						</span>
					</li>
					<li class="form-group">
						<label class="form-label">Date input - long year</label>
						<span class="form-answer">
							<!--	!!!! NO WHITESPACE !!!!	-->
							<select class="form-control min"><option value="">Day</option><option value="01">01</option><option value="02">...</option><option value="31">31</option></select><select class="form-control min"><option value="">Month</option><option value="01">January</option><option value="02">...</option><option value="12">December</option></select><input type='tel' size='4' maxlength='4' placeholder='yyyy' class='form-control numericinput'/>
						</span>
					</li>
				</ul>
			</div>
		</fieldset>
		<fieldset class="form-panel">
			<legend class="fieldset-title">Calls to action</legend>
			<div class="form-panel-content">
				<ul>
					<!--	NB you don't need a label in order to right align inputs	-->
					<li class="form-group">
						<span class="form-answer">
							<button class="button-primary" title="Primary" value="Primary">{.primary}</button>
							<button class="button-secondary" title="Search trigger" value="Search trigger">{.secondary}</button>
							<button class="button-not-selected" title="Search trigger" value="Search trigger">{.not-selected}</button>
							<button class="button-is-selected" title="Search trigger" value="Search trigger">{.is-selected}</button>
						</span>
					</li>
				</ul>
			</div>
		</fieldset>

		<fieldset class="form-panel">
			<legend class="fieldset-title">Radio groups</legend>
			<div class="form-panel-content">
				<ul>
					<li class="form-group">
						<fieldset>
							<legend class="form-label">touch me</legend>
							<span class="form-answer">
								<label for="alpha" class="touch-control">
									<input id="alpha" name="new" type="radio"><span>Alpha<i class="form-hint">Lots more info</i></span>
								</label>
								<label for="beta" class="touch-control">
									<input id="beta" name="new" type="radio"><span>Alpha</span>
								</label>
							</span>
						</fieldset>
					</li>
				</ul>
			</div>
		</fieldset>
		<fieldset class="form-panel">
			<legend class="fieldset-title">Radio groups</legend>
			<div class="form-panel-content">
				<ul>
					<li class="form-group">
						<label class="form-label">Boolean</label>
						<span class="form-answer radio-group">
							<div class="button">
								<input type="radio" value="Y" id="radio-homeowner-y" name="radio-homeowner">
								<label for="radio-homeowner-y">Affirmative</label>
							</div>
							<div class="button">
								<input type="radio" value="N" id="radio-homeowner-n" name="radio-homeowner">
								<label for="radio-homeowner-n">No</label>
							</div>
							<a href='#' class='help-link' id='help-10' onclick='return showHelp(this.id);'>?</a>
						</span>
						
					</li>
					<li class="form-group">
						<label class="form-label">Multiple<i class="form-hint">if a radio group has &gt; 2 options it needs a class of <code>not-bool</code></i></label>
						<span class="form-answer radio-group not-bool">
							<div class="button">
								<input type="radio" value="Y" id="radio-drivers0" name="radio-drivers">
								<label for="radio-drivers0">None</label>
							</div>
							<div class="button">
								<input type="radio" value="N" id="radio-drivers1" name="radio-drivers" >
								<label for="radio-drivers1">1</label>
							</div>
							<div class="button">
								<input type="radio" value="N" id="radio-drivers2" name="radio-drivers" >
								<label for="radio-drivers2">2</label>
							</div>
							<div class="button">
								<input type="radio" value="N" id="radio-drivers3" name="radio-drivers" >
								<label for="radio-drivers3">3</label>
							</div>
							<div class="button">
								<input type="radio" value="N" id="radio-drivers4" name="radio-drivers" >
								<label for="radio-drivers4">4</label>
							</div>
							<a href='#' class='help-link' id='help-11' onclick='return showHelp(this.id);'>?</a>
						</span>
					</li>
					<li class="form-group">
						<label class="form-label">Additional text</label>
						<span class="form-answer radio-group">
							<div class="button">
								<input type="radio" value="Y" id="radio-small-y" name="radio-small">
								<label for="radio-small-y">Option A<i class="form-hint">Lots more info</i></label>
							</div>
							<div class="button">
								<input type="radio" value="N" id="radio-small-n" name="radio-small" >
								<label for="radio-small-n">Option B<i class="form-hint">Lots more info</i></label>
							</div>
							<a href='#' class='help-link' id='help-13' onclick='return showHelp(this.id);'>?</a>
						</span>
					</li>
				</ul>
				<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. <a href="#">link</a> Quisque sed fringilla ipsum. Suspendisse ut sem augue. Suspendisse sed magna a neque pretium aliquet. Sed justo dolor, bibendum vehicula imperdiet nec. </p>
			</div>
		</fieldset>
		<fieldset class="form-panel">
			<legend class="fieldset-title">Checkbox groups</legend>
			<div class="form-panel-content">
				<ul>
					<li class="form-group">
						<label class="form-label">Checkboxes with internal values</label>
						<span class="form-answer radio-group not-bool">
							<div class="button">
								<input type="checkbox" value="Y" id="checkbox-drivers0" name="checkbox-drivers">
								<label for="checkbox-drivers0">Phone</label>
							</div>
							<div class="button">
								<input type="checkbox" value="N" id="checkbox-drivers1" name="checkbox-drivers" >
								<label for="checkbox-drivers1">SMS</label>
							</div>
							<div class="button">
								<input type="checkbox" value="N" id="checkbox-drivers2" name="checkbox-drivers" >
								<label for="checkbox-drivers2">Email</label>
							</div>
							<div class="button">
								<input type="checkbox" value="N" id="checkbox-drivers3" name="checkbox-drivers" >
								<label for="checkbox-drivers3">Post</label>
							</div>
							<a href='#' class='help-link' id='help-16' onclick='return showHelp(this.id);'>?</a>
						</span>
					</li>
					<li class="form-group">
						<label class="form-label">Checkboxes with external values</label>
						<div class="form-answer ">
							<span class="radio-group not-bool">
								<div class="button not-selected">
									<input type="checkbox" name="x_Userfields_Userfield.line.MRKPOST.type.C" id="x_Userfields_Userfield.line.MRKPOST.type.C" /><label for="x_Userfields_Userfield.line.MRKPOST.type.C">Tick</label>
							</div>
							</span><label for="x_Userfields_Userfield.line.MRKPOST.type.C">If marketing A</label>
						</div>
						<div class="form-answer">
							<span class="radio-group not-bool">
								<div class="button not-selected">
									<input type="checkbox" name="x_Userfields_Userfield.line.MRKEMAIL.type.C" id="x_Userfields_Userfield.line.MRKEMAIL.type.C" /><label for="x_Userfields_Userfield.line.MRKEMAIL.type.C">Tick</label>
							</div>
							</span><label for="x_Userfields_Userfield.line.MRKEMAIL.type.C">If marketing B If marketing B If marketing B If marketing B</label>
						</div>
						<div class="form-answer">
							<span class="radio-group not-bool">
								<div class="button not-selected">
									<input type="checkbox" name="x_Userfields_Userfield.line.MRKTELE.type.C" id="x_Userfields_Userfield.line.MRKTELE.type.C" /><label for="x_Userfields_Userfield.line.MRKTELE.type.C">Tick</label>
							</div>
							</span><label for="x_Userfields_Userfield.line.MRKTELE.type.C">If marketing C</label>
						</div>
					</li>
				</ul>
			</div>
		</fieldset>
		<nav>
			<button class="button-not-selected" type="submit" value="Back">Back</button>
			<button class="button-primary" type="submit" value="Continue">Continue</button>
		</nav>
	</div>
	<footer class="global-footer">
		<h1>To Do:</h1>
		<ol>
			<li>Native vs Custom form controls (icon font)</li>
			<li>Help icon (styling, position and transition)</li>
			<li>Button feed-<i>back</i></li>
			<li>Button feed-<i>forward</i></li>
			<li>Wayfaring</li>
			<li>Combine "Input &amp; search" elements</li>
			<li>Combine radio-group elements (bool = horizontal !bool = vertical)</li>
			<li>Duplicate radio-group to checkbox-group</li>
			<li>Ajax results</li>
		</ol>
	</footer>
	</form>
</body>

<style type="text/css">
/*	TEMP FOOTER STYLING	*/
footer ol	{
	max-width:960px;
	margin:0 auto 37px;
	list-style-position: inside;
    list-style-type: decimal;
}
footer li	{
	color:#ffffff;
}
</style>
</html>
